<?xml version="1.0"?>
<root>
  <inputsourcedef>
    <name>DVORAK</name>
    <inputsourceid_prefix>com.apple.keylayout.Dvorak</inputsourceid_prefix>
  </inputsourcedef>

<!--
Keyboard
    Razer Naga (Razer)

    DeviceVendor::RawValue::0x1532,
    DeviceProduct::RawValue::0x0015,

    DeviceLocation::RawValue::0xfd132100,

Pointing
    Razer Naga (Razer)

    DeviceVendor::RawValue::0x1532,
    DeviceProduct::RawValue::0x0015,

    DeviceLocation::RawValue::0xfd132100,


A common problem is when I want to perform a mapped action on the window under
my mouse cursor, but another window (say on another monitor) has the focus and
I don't realize, so I wind up (eg.) closing the wrong app.

So, for certain actions that are performed on a specific app, first activate
the window under the mouse cursor without actually clicking it.

From http://stackoverflow.com/a/35820182
⌃⌥-click (control-option-click) - switches focus without raising window
⌘-click (command-click) - clicks in window without switching focus

In Karabiner, that looks like the following:
PointingButton::LEFT, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L,

So, this maps mouse button 12 to ⌃⌥-click, then ⌘h (in Dvorak...)

  <autogen>
    __KeyToKey__
    KeyCode::KEYPAD_PLUS,
    PointingButton::LEFT, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L,
    KeyCode::J, ModifierFlag::COMMAND_L
  </autogen>

Only problem is, if it's the active window, ⌃⌥-click acts as a right-click!
So, disabled for now, but maybe I'll figure out how to make this work someday.
-->

  <devicevendordef>
    <vendorname>RAZER</vendorname>
    <vendorid>0x1532</vendorid>
  </devicevendordef>

  <deviceproductdef>
    <productname>RAZER_NAGA</productname>
    <productid>0x0015</productid>
  </deviceproductdef>

  <item>
    <name>Naga side button 1</name>
    <identifier>private.naga_side_button_1</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_1,
      KeyCode::F19 <!-- mission control -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 2</name>
    <identifier>private.naga_side_button_2</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_2,
      KeyCode::F18 <!-- application windows -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 3</name>
    <identifier>private.naga_side_button_3</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_3,
      KeyCode::F17 <!-- show desktop -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 4</name>
    <identifier>private.naga_side_button_4</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_4,
      KeyCode::TAB, ModifierFlag::COMMAND_L <!-- ⌘tab -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 5</name>
    <identifier>private.naga_side_button_5</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_5,
      KeyCode::MINUS, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L <!-- ⌘⇧[ -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 6</name>
    <identifier>private.naga_side_button_6</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_6,
      KeyCode::EQUAL, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L <!-- ⌘⇧] -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 7</name>
    <identifier>private.naga_side_button_7</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_7,
      <!-- PointingButton::LEFT, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L, -->
      KeyCode::COMMA, ModifierFlag::COMMAND_L <!-- ⌘w -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 8</name>
    <identifier>private.naga_side_button_8</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_8,
      KeyCode::BACKQUOTE, ModifierFlag::COMMAND_L <!-- ⌘~ -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 9</name>
    <identifier>private.naga_side_button_9</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_9,
      KeyCode::BACKQUOTE, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L <!-- ⌘⇧~ -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 10</name>
    <identifier>private.naga_side_button_10</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_0, <!-- 10 -->
      <!-- PointingButton::LEFT, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L, -->
      KeyCode::X, ModifierFlag::COMMAND_L <!-- ⌘q -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 11</name>
    <identifier>private.naga_side_button_11</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_MINUS, <!-- 11 -->
      <!-- PointingButton::LEFT, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L, -->
      KeyCode::COMMA, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L <!-- ⌘⇧w -->
    </autogen>
  </item>

  <item>
    <name>Naga side button 12</name>
    <identifier>private.naga_side_button_12</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      KeyCode::KEYPAD_PLUS, <!-- 12 -->
      <!-- PointingButton::LEFT, ModifierFlag::CONTROL_L | ModifierFlag::OPTION_L, -->
      KeyCode::J, ModifierFlag::COMMAND_L <!-- ⌘h -->
    </autogen>
  </item>

  <item>
    <name>Naga back button</name>
    <identifier>private.naga_back_button</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      PointingButton::BUTTON4,
      KeyCode::MINUS, ModifierFlag::COMMAND_L <!-- ⌘[ -->
    </autogen>
  </item>

  <item>
    <name>Naga forward button</name>
    <identifier>private.naga_forward_button</identifier>
    <device_only>DeviceVendor::RAZER,DeviceProduct::RAZER_NAGA</device_only>

    <autogen>
      __KeyToKey__
      PointingButton::BUTTON5,
      KeyCode::EQUAL, ModifierFlag::COMMAND_L <!-- ⌘] -->
    </autogen>
  </item>

</root>
